controller:
  JCasC:
    enabled: true
    configScripts:
      welcome-message: |
        jenkins:
          systemMessage: "Welcome to Jenkins on Minikube!"
      kubernetes-cloud: |
        jenkins:
          clouds:
          - kubernetes:
              name: "minikube-cloud"
              serverUrl: "https://kubernetes.default.svc"
              namespace: "jenkins"
              jenkinsUrl: "http://jenkins.default.svc.cluster.local:8080"
              connectTimeout: 5
              readTimeout: 15
  service:
    ports:
      jnlp: 50000
  admin:
    username: admin
    password: admin
  serviceType: NodePort
  servicePort: 8081

  installPlugins:
    - kubernetes:latest
    - workflow-aggregator:latest
    - git:latest
    - docker-workflow:latest
    - blueocean:latest
    - credentials-binding:latest

persistence:
  enabled: true
  storageClass: standard
  size: 10Gi
  path: /mnt/data/jenkins-home   # MUST be mapped to a real Windows folder, e.g., C:\minikube-data\jenkins-home
agent:
  enabled: true

serviceAccount:
  create: true
  name: "jenkins"
rbac:
  create: true
  readSecrets: true
  rules:
    - apiGroups: [""]
      resources: ["pods", "pods/log", "secrets"]
      verbs: ["get", "list", "watch", "create", "delete", "update"]
    - apiGroups: ["apps"]
      resources: ["deployments"]
      verbs: ["get", "list", "watch", "create", "update", "patch"]
    - apiGroups: [""]
      resources: ["services"]
      verbs: ["get", "list", "create", "update"]
    - apiGroups: ["batch"]
      resources: ["jobs"]
      verbs: ["get", "list", "create", "delete"]
    - apiGroups: [""]
      resources: ["persistentvolumeclaims"]
      verbs: ["get", "list", "create", "delete"]
    - apiGroups: [""]
      resources: ["configmaps"]
      verbs: ["get", "list", "create", "update"]
